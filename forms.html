<!DOCTYPE html>
<html id="html" lang="en" data-attr:data-mode="$prst_mode === 'system' ? false : $prst_mode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Forms - Cube CSS</title>
  
  <script type="module">
    try {
      await import('./js/datastar-pro.js');
      console.log('Loaded local datastar-pro.js');
    } catch {
      await import('https://cdn.jsdelivr.net/gh/starfederation/datastar@1.0.0-RC.7/bundles/datastar.js');
      console.log('Loaded CDN datastar');
    }
  </script>

  <style>@layer reset, props, theme, composition, utility, block, exception;</style>
  <link rel="stylesheet" href="./css/0_reset.css">
  <link rel="stylesheet" href="./css/1_props.css">
  <link rel="stylesheet" data-attr:href="$prst_theme">
  <link rel="stylesheet" href="./css/3_composition.css">
  <link rel="stylesheet" href="./css/4_utility.css">
  <link rel="stylesheet" href="./css/5_block.css">
  <link rel="stylesheet" href="./css/6_exception.css">
  
  <!-- Prism.js syntax highlighting -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-markup.min.js"></script>
</head>
<body class="fullscreen scroll-no"
  data-persist="{include: /^prst_/}"
  data-signals:prst_theme="'./css/2_theme-default.css'"
  data-signals:prst_mode="'system'">
    
  <div class="grid:hero gap:xs">
    <div id="header" data-init="@get('./partials/header.html')"></div>
    <div id="nav" data-init="@get('./partials/nav.html')"></div>
    <div id="nav-drawer"></div>

    <main style="grid-area: 2/2/3/3;" class="scroll-y card flex:stack gap:lg p:lg">
      <h2 class="text:xl" style="font-weight: 600;">Forms</h2>
      
<!-- Design Choices -->
      <div class="card sec">
        <h3>Design Choices</h3>
        <p><strong>4-column grid.</strong> Enough flexibility for complex layouts. Collapses gracefully on small screens. No 12-column edge-case headaches.</p>
        <p><strong>Feedback above input.</strong> The feedback <code>&lt;span&gt;</code> sits in the label row. Adding or removing text won't shift the form layout.</p>
        <p><strong>No :user-valid/:user-invalid.</strong> This form pairs with Datastar for server-side validation. Classes (<code>.suc</code>, <code>.dgr</code>, <code>.wrn</code>) reflect backend state. Frontend and backend stay decoupled.</p>
        <p><strong>Pattern and maxlength only.</strong> These prevent obvious mistakes before submission. Everything else validates server-side.</p>
        <p><strong>Standard keyboard preferred.</strong> Numeric keypads lack an Enter key. We keep the full keyboard so <code>enterkeyhint</code> works and users can tab through fields naturally.</p>
        <p><strong>Semantic &lt;form&gt; element.</strong> Even with Datastar handling submission, the form element provides accessibility wins, autofill support, and Enter-to-submit behavior worth keeping.</p>
      </div>

      <!-- Form Layout -->
      <section class="flex:stack gap:sm">
        <h3 class="text:md">Form Layout</h3>
        <p class="text:sm">4-column grid system: <code>field:w1</code> (25%), <code>field:w2</code> (50%), <code>field:w3</code> (75%), <code>field</code> (100%)</p>
        <div class="card gla" style="resize: horizontal; overflow: auto; min-width: 250px; max-width: 100%;">
<form class="form">
            <!-- Full width email -->
            <label class="field">
              Email <span class="suc">Looks good!</span>
<input type="email" placeholder="mike@example.com" required enterkeyhint="next" 
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            
            <!-- 2 + 2: Names -->
            <label class="field:w2">
              First Name <span></span>
              <input type="text" placeholder="First" required enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            <label class="field:w2">
              Last Name <span></span>
              <input type="text" placeholder="Last" required enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            
            <!-- 3 + 1: Address -->
            <label class="field:w3">
              Street Address
<input type="text" placeholder="123 Main Street" enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            <label class="field:w1">
              Apt
<input type="text" placeholder="4B" enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            
            <!-- 2 + 1 + 1: City/State/Zip -->
            <label class="field:w2">
              City
<input type="text" placeholder="New York" enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            <label class="field:w1">
              State
<input type="text" placeholder="NY" maxlength="2" pattern="[A-Za-z]{2}" enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            <label class="field:w1">
              Zip <span class="dgr">Invalid</span>
              <input type="text" placeholder="12345" maxlength="6" pattern="[0-9]{1,6}" required enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            
            <!-- 1 + 1 + 2: Mixed sizes -->
            <label class="field:w1">
              Code
<input type="text" placeholder="ABC" enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            <label class="field:w1">
              PIN <span class="wrn">Weak</span>
              <input type="text" placeholder="1234" maxlength="4" pattern="[0-9]{4}" required enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            <label class="field:w2">
              Phone
<input type="tel" placeholder="5551234567" maxlength="10" pattern="[0-9]{10}" enterkeyhint="next"
                data-on:keydown="if(evt.key==='Enter'){evt.preventDefault();el.closest('[class*="field"]').nextElementSibling?.querySelector('input,textarea')?.focus()}" />
            </label>
            
            <!-- Full width notes -->
            <label class="field">
              Notes
<textarea rows="2" placeholder="Additional delivery instructions..." enterkeyhint="done"
                data-on:keydown="if(evt.key==='Enter'&&!evt.shiftKey){evt.preventDefault();el.closest('form').querySelector('[type=submit]')?.focus()}"></textarea>
            </label>
            
            <button type="submit" class="w-4">Submit</button>
          </form>
        </div>
      </section>

      <!-- Form Tips -->
      <section class="flex:stack gap:sm">
        <h3 class="text:md">Form Tips</h3>
        <div class="card">
          <h3>Mobile Keyboard Hints</h3>
          <p>Use <code>enterkeyhint</code> to control the Enter key label on mobile keyboards:</p>
          <ul style="margin: var(--space-xs) 0; padding-left: var(--space-md);">
            <li><code>enterkeyhint="next"</code> — shows "Next" for multi-field forms</li>
            <li><code>enterkeyhint="done"</code> — shows "Done" for the last field</li>
            <li><code>enterkeyhint="search"</code>, <code>go</code>, <code>send</code> — context-specific</li>
          </ul>
          <p style="margin-top: var(--space-sm);">Use <code>inputmode</code> to show the right keyboard without validation quirks of <code>type="number"</code>:</p>
          <ul style="margin: var(--space-xs) 0; padding-left: var(--space-md);">
            <li><code>inputmode="tel"</code> — phone-style number pad (great for ZIP, PIN, phone)</li>
<li><code>inputmode="decimal"</code> — number pad with decimal (includes Enter key)</li>
            <li><code>inputmode="decimal"</code> — number pad with decimal point</li>
          </ul>
          <p style="margin-top: var(--space-sm);"><strong>Validation attributes:</strong></p>
          <ul style="margin: var(--space-xs) 0; padding-left: var(--space-md);">
            <li><code>required</code> —field must be filled</li>
            <li><code>maxlength="100"</code> — limits character input</li>
            <li><code>minlength="5"</code> — minimum characters required</li>
            <li><code>pattern="[A-Za-z]{3}"</code> — regex validation</li>
            <li><code>min="0"</code> / <code>max="100"</code> — for number inputs</li>
          </ul>
          <p style="margin-top: var(--space-sm);"><strong>Autofill hints:</strong></p>
          <ul style="margin: var(--space-xs) 0; padding-left: var(--space-md);">
            <li><code>autocomplete="email"</code> — email address</li>
            <li><code>autocomplete="tel"</code> — phone number</li>
            <li><code>autocomplete="postal-code"</code> — ZIP/postal code</li>
            <li><code>autocomplete="given-name"</code> / <code>"family-name"</code> — names</li>
            <li><code>autocomplete="street-address"</code> — address</li>
          </ul>
          <p style="margin-top: var(--space-sm);"><strong>Enter key navigation (Datastar):</strong> Prevent form submit and move to next field:</p>
          <pre class="card" style="font-size: var(--text-xs); overflow-x: auto; margin-top: var(--space-xs);"><code class="language-html">&lt;input type="text" enterkeyhint="next"
  data-on:keydown="if(evt.key==='Enter'){
    evt.preventDefault();
    el.closest('[class*="field"]')
      .nextElementSibling
      ?.querySelector('input,textarea')
      ?.focus()
  }" /&gt;

&lt;!-- Last field: focus submit button (Shift+Enter for newline) --&gt;
&lt;textarea enterkeyhint="done"
  data-on:keydown="if(evt.key==='Enter' &amp;&amp; !evt.shiftKey){
    evt.preventDefault();
    el.closest('form')
      .querySelector('[type=submit]')
      ?.focus()
  }"&gt;&lt;/textarea&gt;</code></pre>
        </div>
      </section>

      <!-- API Reference -->
      <section class="flex:stack gap:sm">
        <h3 class="text:md">API Reference</h3>
        <table class="text:sm" style="border-collapse: collapse; width: 100%; max-width: 600px;">
          <thead>
            <tr style="border-bottom: 1px solid var(--surface-border);">
              <th style="text-align: left; padding: var(--space-xs);">Class</th>
              <th style="text-align: left; padding: var(--space-xs);">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-bottom: 1px solid var(--surface-border);">
              <td style="padding: var(--space-xs);"><code>.form</code></td>
              <td style="padding: var(--space-xs);">4-column grid container for form layout</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--surface-border);">
              <td style="padding: var(--space-xs);"><code>field</code>, <code>field:w1</code> to <code>field:w3</code></td>
              <td style="padding: var(--space-xs);">Field wrapper (default full width, variants for 1-3 columns)</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--surface-border);">
              <td style="padding: var(--space-xs);"><code>&lt;span&gt;</code></td>
              <td style="padding: var(--space-xs);">Feedback message (inside field label)</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--surface-border);">
              <td style="padding: var(--space-xs);"><code>.suc</code> / <code>.wrn</code> / <code>.dgr</code> / <code>.inf</code></td>
              <td style="padding: var(--space-xs);">Validation states (on span)</td>
            </tr>
          </tbody>
        </table>

        <h4 class="text:sm" style="margin-top: var(--space-sm);">Usage</h4>
        <pre class="card" style="font-size: var(--text-xs); overflow-x: auto;"><code class="language-html">&lt;form class="form"&gt;
  &lt;label class="field"&gt;
    Email &lt;span class="suc"&gt;Looks good!&lt;/span&gt;
    &lt;input type="email" /&gt;
  &lt;/label&gt;
  
  &lt;label class="field:w2"&gt;
    First Name
    &lt;input type="text" /&gt;
  &lt;/label&gt;
  &lt;label class="field:w2"&gt;
    Last Name
    &lt;input type="text" /&gt;
  &lt;/label&gt;
  
  &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>
      </section>

    </main>
    <div id="aside" data-init="@get('./partials/aside.html')"></div>
    <div id="aside-drawer"></div>
    <div id="footer" data-init="@get('./partials/footer.html')"></div>
  </div>
</body>
</html>
